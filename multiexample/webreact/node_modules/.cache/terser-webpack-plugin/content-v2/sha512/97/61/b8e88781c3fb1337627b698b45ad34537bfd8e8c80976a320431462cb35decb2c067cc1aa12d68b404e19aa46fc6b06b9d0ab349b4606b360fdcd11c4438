{"map":"{\"version\":3,\"sources\":[\"/Users/hal/java/git/it1901-example/multiexample/webreact/src/MultiExApp.js\",\"/Users/hal/java/git/it1901-example/multiexample/webreact/src/index.js\"],\"names\":[\"LocationMap\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"marker\",\"setState\",\"_this2\",\"latitude\",\"longitude\",\"markerElement\",\"react_default\",\"a\",\"createElement\",\"Marker\",\"position\",\"draggable\",\"onDragend\",\"event\",\"latLng\",\"target\",\"_latlng\",\"mapMarkerChangedCallback\",\"lat\",\"lng\",\"Popup\",\"Map\",\"center\",\"zoom\",\"TileLayer\",\"attribution\",\"url\",\"React\",\"Component\",\"ItemsList\",\"_this3\",\"items\",\"selectedIndex\",\"_this4\",\"num\",\"id\",\"map\",\"item\",\"index\",\"label\",\"labelProvider\",\"key\",\"className\",\"data-testid\",\"onClick\",\"selectedLocationChangedCallback\",\"MultiExApp\",\"_ref\",\"locations\",\"length\",\"mapRef\",\"createRef\",\"listRef\",\"MultiExApp_ItemsList\",\"ref\",\"location\",\"current\",\"setMarker\",\"MultiExApp_LocationMap\",\"slice\",\"splice\",\"setItems\",\"ReactDOM\",\"render\",\"src_MultiExApp_0\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet'\\n\\nimport './MultiExApp.css';\\n\\nclass LocationMap extends React.Component {\\n\\n\\tconstructor(props) {\\n\\t\\tsuper(props)\\n\\t  \\tthis.state = {\\n\\t    \\tmarker: props.marker\\n\\t    }\\n\\t}\\n\\n\\tsetMarker(marker) {\\n\\t\\tthis.setState({ marker: marker })\\n\\t}\\n\\n\\trender() {\\n\\t\\tconst markerDraggedCallback = (event) => {\\n\\t\\t\\tvar latLng = event.target._latlng\\n\\t\\t\\tthis.props.mapMarkerChangedCallback({ latitude: latLng.lat, longitude: latLng.lng })\\n\\t\\t}\\n\\t\\tconst marker = this.state.marker != null ? [this.state.marker.latitude, this.state.marker.longitude] : [0, 0]\\n    \\tconst markerElement = this.state.marker != null ? (\\n      \\t\\t<Marker\\n\\t\\t\\t\\tposition={marker}\\n\\t\\t\\t\\tdraggable={true}\\n          \\t\\tonDragend={markerDraggedCallback}\\n\\t\\t\\t\\t>\\n        \\t\\t<Popup>@ {marker[0]}, {marker[1]}</Popup>\\n      \\t\\t</Marker>\\n    \\t) : null\\n\\n    \\treturn (\\n      \\t\\t<Map center={marker} zoom={8}>\\n\\t       \\t\\t<TileLayer\\n\\t          \\t\\tattribution='&amp;copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors'\\n\\t          \\t\\turl=\\\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\\\"\\n\\t        \\t/>\\n\\t        \\t{markerElement}\\n      \\t\\t</Map>\\n    \\t)\\n  \\t}\\n}\\n\\nclass ItemsList extends React.Component {\\n\\n\\tconstructor(props) {\\n\\t\\tsuper(props)\\n\\t\\tthis.state = {\\n\\t\\t\\titems: this.props.items,\\n\\t\\t\\tselectedIndex: 0\\n\\t\\t}\\n\\t}\\n\\n\\tsetItems(items) {\\n\\t\\tthis.setState({ items: items})\\n\\t}\\n\\n\\trender() {\\n\\t\\tvar num = -1\\n\\t\\treturn <table id=\\\"itemsList\\\">\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.state.items.map(item => {\\n\\t\\t\\t\\t\\t\\tnum = num + 1\\n\\t\\t\\t\\t\\t\\tconst index = num\\n\\t\\t\\t\\t\\t\\tconst handleClick = () => {\\n\\t\\t\\t\\t\\t\\t\\tthis.setState({ selectedIndex : index})\\n\\t\\t\\t\\t\\t\\t\\tthis.props.selectedLocationChangedCallback(index)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tvar label = this.props.labelProvider(item)\\n\\t\\t\\t\\t\\t\\treturn <tr key={label} className={num === this.state.selectedIndex ? \\\"selected-list-item\\\" : \\\"list-item-\\\" + (num % 2)}>\\n\\t\\t\\t\\t\\t\\t\\t<td data-testid={\\\"listItem\\\" + num} onClick={handleClick}>{label}</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</tbody>\\n\\t    </table>\\n\\t}\\n}\\n\\nconst MultiExApp = ({locations}) => {\\n\\t// default marker is first marker in latLongs, or 0, 0 if latLongs is empty\\n\\tconst marker = locations.length > 0 ? locations[0] : { latitude: 0, longitude: 0}\\n\\t// allows access to actual LatLongMap\\n\\tconst mapRef = React.createRef()\\n\\tconst listRef = React.createRef()\\n\\tconst selectedLocationChangedCallback = (num) => {\\n\\t\\tmapRef.current.setMarker(locations[num])\\n\\t}\\n\\tconst mapMarkerChangedCallback = (marker) => {\\n\\t\\tlocations = locations.slice()\\n\\t\\tlocations.splice(listRef.current.state.selectedIndex, 1, marker)\\n\\t\\tlistRef.current.setItems(locations)\\n\\t\\tmapRef.current.setMarker(marker)\\n\\t}\\n\\tconst location2Label = (location) => location.latitude + \\\", \\\" + location.longitude\\n    return <div className=\\\"MultiExApp\\\">\\n \\t\\t<table>\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td><ItemsList ref={listRef} items={locations} labelProvider={location2Label} selectedLocationChangedCallback={selectedLocationChangedCallback}/></td>\\n\\t\\t\\t\\t\\t<td><LocationMap ref={mapRef} marker={marker} mapMarkerChangedCallback={mapMarkerChangedCallback}/></td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n    \\t</table>\\n    </div>\\n}\\n\\nexport default MultiExApp;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport MultiExApp from './MultiExApp';\\n\\nconst defaultLocations = [{latitude: 63.1, longitude: 11.2}, {latitude: 63.2,longitude: 11.0}];\\n\\nReactDOM.render(<MultiExApp locations={defaultLocations}/>, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(29)},25:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=(a(25),a(12)),s=a(13),o=a(15),u=a(14),m=a(16),d=a(31),p=a(34),b=a(32),h=a(33),k=(a(26),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={marker:e.marker},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:\"setMarker\",value:function(e){this.setState({marker:e})}},{key:\"render\",value:function(){var e=this,t=null!=this.state.marker?[this.state.marker.latitude,this.state.marker.longitude]:[0,0],a=null!=this.state.marker?r.a.createElement(d.a,{position:t,draggable:!0,onDragend:function(t){var a=t.target._latlng;e.props.mapMarkerChangedCallback({latitude:a.lat,longitude:a.lng})}},r.a.createElement(p.a,null,\"@ \",t[0],\", \",t[1])):null;return r.a.createElement(b.a,{center:t,zoom:8},r.a.createElement(h.a,{attribution:'&copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),a)}}]),t}(r.a.Component)),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={items:a.props.items,selectedIndex:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:\"setItems\",value:function(e){this.setState({items:e})}},{key:\"render\",value:function(){var e=this,t=-1;return r.a.createElement(\"table\",{id:\"itemsList\"},r.a.createElement(\"tbody\",null,this.state.items.map(function(a){var n=t+=1,l=e.props.labelProvider(a);return r.a.createElement(\"tr\",{key:l,className:t===e.state.selectedIndex?\"selected-list-item\":\"list-item-\"+t%2},r.a.createElement(\"td\",{\"data-testid\":\"listItem\"+t,onClick:function(){e.setState({selectedIndex:n}),e.props.selectedLocationChangedCallback(n)}},l))})))}}]),t}(r.a.Component),g=function(e){var t=e.locations,a=t.length>0?t[0]:{latitude:0,longitude:0},n=r.a.createRef(),l=r.a.createRef();return r.a.createElement(\"div\",{className:\"MultiExApp\"},r.a.createElement(\"table\",null,r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(f,{ref:l,items:t,labelProvider:function(e){return e.latitude+\", \"+e.longitude},selectedLocationChangedCallback:function(e){n.current.setMarker(t[e])}})),r.a.createElement(\"td\",null,r.a.createElement(k,{ref:n,marker:a,mapMarkerChangedCallback:function(e){(t=t.slice()).splice(l.current.state.selectedIndex,1,e),l.current.setItems(t),n.current.setMarker(e)}}))))))};c.a.render(r.a.createElement(g,{locations:[{latitude:63.1,longitude:11.2},{latitude:63.2,longitude:11}]}),document.getElementById(\"root\"))}},[[19,1,2]]]);","extractedComments":[]}