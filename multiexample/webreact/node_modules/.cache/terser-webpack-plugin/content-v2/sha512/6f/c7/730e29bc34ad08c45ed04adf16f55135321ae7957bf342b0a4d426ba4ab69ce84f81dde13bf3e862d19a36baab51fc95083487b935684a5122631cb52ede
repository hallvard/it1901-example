{"map":"{\"version\":3,\"sources\":[\"/Users/hal/java/git/it1901-example/multiexample/webreact/src/MultiExApp.js\",\"/Users/hal/java/git/it1901-example/multiexample/webreact/src/index.js\"],\"names\":[\"LocationMap\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"marker\",\"setState\",\"_this2\",\"center\",\"markerElement\",\"react_default\",\"a\",\"createElement\",\"Marker\",\"position\",\"latitude\",\"longitude\",\"draggable\",\"onDragend\",\"event\",\"latLng\",\"target\",\"_latlng\",\"mapMarkerChangedCallback\",\"latlng\",\"lat\",\"lng\",\"Popup\",\"Map\",\"ref\",\"mapRef\",\"zoom\",\"TileLayer\",\"attribution\",\"url\",\"React\",\"Component\",\"ItemsList\",\"_this3\",\"items\",\"selectedIndex\",\"_this4\",\"num\",\"id\",\"map\",\"item\",\"index\",\"label\",\"labelProvider\",\"key\",\"className\",\"data-testid\",\"onClick\",\"selectedLocationChangedCallback\",\"MultiExApp\",\"_ref\",\"locations\",\"length\",\"createRef\",\"listRef\",\"MultiExApp_ItemsList\",\"location\",\"current\",\"setMarker\",\"MultiExApp_LocationMap\",\"copy\",\"_this5\",\"latLongs\",\"slice\",\"splice\",\"setItems\",\"ReactDOM\",\"render\",\"src_MultiExApp_0\",\"document\",\"getElementById\",\"serviceWorker\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet'\\n\\nimport './MultiExApp.css';\\n\\nclass LocationMap extends React.Component {\\n\\n\\tconstructor(props) {\\n\\t\\tsuper(props)\\n\\t  \\tthis.state = {\\n\\t    \\tmarker: props.marker\\n\\t    }\\n\\t}\\n\\n\\tsetMarker(marker) {\\n\\t\\tthis.setState({ marker: marker })\\n\\t}\\n\\n\\trender() {\\n\\t\\tconst markerDraggedCallback = (event) => {\\n\\t\\t\\tvar latLng = event.target._latlng\\n\\t\\t\\tthis.props.mapMarkerChangedCallback({ latitude: latlng.lat, longitude: latLng.lng })\\n\\t\\t}\\n\\t\\tconst center = this.state.marker != null ? this.state.marker : [0, 0]\\n    \\tconst markerElement = this.state.marker != null ? (\\n      \\t\\t<Marker\\n\\t\\t\\t\\tposition={[this.state.marker.latitude, this.state.marker.longitude]}\\n\\t\\t\\t\\tdraggable={true}\\n          \\t\\tonDragend={markerDraggedCallback}\\n\\t\\t\\t\\t>\\n        \\t\\t<Popup>@ {this.state.marker[0]}, {this.state.marker[1]}</Popup>\\n      \\t\\t</Marker>\\n    \\t) : null\\n\\n    \\treturn (\\n      \\t\\t<Map ref={this.mapRef} center={center} zoom={8}>\\n\\t       \\t\\t<TileLayer\\n\\t          \\t\\tattribution='&amp;copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors'\\n\\t          \\t\\turl=\\\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\\\"\\n\\t        \\t/>\\n\\t        \\t{markerElement}\\n      \\t\\t</Map>\\n    \\t)\\n  \\t}\\n}\\n\\nclass ItemsList extends React.Component {\\n\\n\\tconstructor(props) {\\n\\t\\tsuper(props)\\n\\t\\tthis.state = {\\n\\t\\t\\titems: this.props.items,\\n\\t\\t\\tselectedIndex: 0\\n\\t\\t}\\n\\t}\\n\\n\\tsetItems(items) {\\n\\t\\tthis.setState({ items: items})\\n\\t}\\n\\n\\trender() {\\n\\t\\tvar num = -1\\n\\t\\treturn <table id=\\\"itemsList\\\">\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.state.items.map(item => {\\n\\t\\t\\t\\t\\t\\tnum = num + 1\\n\\t\\t\\t\\t\\t\\tconst index = num\\n\\t\\t\\t\\t\\t\\tconst handleClick = () => {\\n\\t\\t\\t\\t\\t\\t\\tthis.setState({ selectedIndex : index})\\n\\t\\t\\t\\t\\t\\t\\tthis.props.selectedLocationChangedCallback(index)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tvar label = this.props.labelProvider(item)\\n\\t\\t\\t\\t\\t\\treturn <tr key={label} className={num === this.state.selectedIndex ? \\\"selected-list-item\\\" : \\\"list-item-\\\" + (num % 2)}>\\n\\t\\t\\t\\t\\t\\t\\t<td data-testid={\\\"label\\\" + num} onClick={handleClick}>{label}</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</tbody>\\n\\t    </table>\\n\\t}\\n}\\n\\nconst MultiExApp = ({locations}) => {\\n\\t// default marker is first marker in latLongs, or 0, 0 if latLongs is empty\\n\\tconst marker = locations.length > 0 ? [locations[0].latitude, locations[0].longitude] : [0, 0]\\n\\t// allows access to actual LatLongMap\\n\\tconst mapRef = React.createRef()\\n\\tconst listRef = React.createRef()\\n\\tconst selectedLocationChangedCallback = (num) => {\\n\\t\\tmapRef.current.setMarker(locations[num])\\n\\t}\\n\\tconst mapMarkerChangedCallback = (marker) => {\\n\\t\\tvar copy = this.state.latLongs.slice()\\n\\t\\tcopy.splice(listRef.current.state.selectedIndex, 1, { latitude: latLng.lat, longitude: latLng.lng })\\n\\t\\tlistRef.current.setItems(copy)\\n\\t\\tmapRef.current.setMarker(marker)\\n\\t}\\n\\tconst location2Label = (location) => location.latitude + \\\", \\\" + location.longitude\\n    return <div className=\\\"MultiExApp\\\">\\n \\t\\t<table>\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td><ItemsList ref={listRef} items={locations} labelProvider={location2Label} selectedLocationChangedCallback={selectedLocationChangedCallback}/></td>\\n\\t\\t\\t\\t\\t<td><LocationMap ref={mapRef} marker={marker} mapMarkerChangedCallback={mapMarkerChangedCallback}/></td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n    \\t</table>\\n    </div>\\n}\\nexport default MultiExApp;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport MultiExApp from './MultiExApp';\\n\\nReactDOM.render(<MultiExApp />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(29)},25:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),l=a(7),s=a.n(l),i=(a(25),a(12)),c=a(13),o=a(15),u=a(14),m=a(16),d=a(31),p=a(34),h=a(32),k=a(33),g=(a(26),void 0),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={marker:e.marker},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"setMarker\",value:function(e){this.setState({marker:e})}},{key:\"render\",value:function(){var e=this,t=null!=this.state.marker?this.state.marker:[0,0],a=null!=this.state.marker?r.a.createElement(d.a,{position:[this.state.marker.latitude,this.state.marker.longitude],draggable:!0,onDragend:function(t){var a=t.target._latlng;e.props.mapMarkerChangedCallback({latitude:latlng.lat,longitude:a.lng})}},r.a.createElement(p.a,null,\"@ \",this.state.marker[0],\", \",this.state.marker[1])):null;return r.a.createElement(h.a,{ref:this.mapRef,center:t,zoom:8},r.a.createElement(k.a,{attribution:'&copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),a)}}]),t}(r.a.Component),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={items:a.props.items,selectedIndex:0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"setItems\",value:function(e){this.setState({items:e})}},{key:\"render\",value:function(){var e=this,t=-1;return r.a.createElement(\"table\",{id:\"itemsList\"},r.a.createElement(\"tbody\",null,this.state.items.map(function(a){var n=t+=1,l=e.props.labelProvider(a);return r.a.createElement(\"tr\",{key:l,className:t===e.state.selectedIndex?\"selected-list-item\":\"list-item-\"+t%2},r.a.createElement(\"td\",{\"data-testid\":\"label\"+t,onClick:function(){e.setState({selectedIndex:n}),e.props.selectedLocationChangedCallback(n)}},l))})))}}]),t}(r.a.Component),E=function(e){var t=e.locations,a=t.length>0?[t[0].latitude,t[0].longitude]:[0,0],n=r.a.createRef(),l=r.a.createRef();return r.a.createElement(\"div\",{className:\"MultiExApp\"},r.a.createElement(\"table\",null,r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(f,{ref:l,items:t,labelProvider:function(e){return e.latitude+\", \"+e.longitude},selectedLocationChangedCallback:function(e){n.current.setMarker(t[e])}})),r.a.createElement(\"td\",null,r.a.createElement(b,{ref:n,marker:a,mapMarkerChangedCallback:function(e){var t=g.state.latLongs.slice();t.splice(l.current.state.selectedIndex,1,{latitude:latLng.lat,longitude:latLng.lng}),l.current.setItems(t),n.current.setMarker(e)}}))))))};s.a.render(r.a.createElement(E,null),document.getElementById(\"root\")),serviceWorker.unregister()}},[[19,1,2]]]);","extractedComments":[]}